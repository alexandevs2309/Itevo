<span class="spinner-border spinner-border-sm align-middle ms-2" *ngIf="isLoading$ | async"></span>
<div class="card card-flush h-lg-100" id="kt_contacts_main">
    <!--begin::Card header-->
    <div class="card-header pt-7" id="kt_chat_contacts_header">
        <!--begin::Card title-->
        <div class="card-title">
            <!--begin::Svg Icon | path: icons/duotune/communication/com005.svg-->
            <!-- <span class="svg-icon svg-icon-1 me-2"> -->
            <!--begin::Svg Icon | path: assets/media/icons/duotune/technology/teh009.svg-->
            <span class="svg-icon svg-icon-muted svg-icon-2hx"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                    height="24" viewBox="0 0 24 24" fill="none">
                    <path
                        d="M8 18L10 14L9.60001 13.2C9.30001 12.6 9.69999 12 10.4 12H13.7C14.3 12 14.7 12.7 14.5 13.2L14 14L16 18H8ZM6 6H4V8H6V6ZM7 11C7 11.6 7.4 12 8 12C8.6 12 9 11.6 9 11V10H7V11ZM10 6V8H20V6H10Z"
                        fill="currentColor" />
                    <path opacity="0.3"
                        d="M21 22H3C2.4 22 2 21.6 2 21V3C2 2.4 2.4 2 3 2H21C21.6 2 22 2.4 22 3V21C22 21.6 21.6 22 21 22ZM20 4H4V18H20V4ZM10 9V6H6V9C6 9.6 6.4 10 7 10H9C9.6 10 10 9.6 10 9Z"
                        fill="currentColor" />
                </svg>
            </span>
            <!--end::Svg Icon-->
            <!-- </span> -->
            <!--end::Svg Icon-->
            <h2>Edit Course: #{{course_id}}</h2>
        </div>
        <!--end::Card title-->
    </div>
    <!--end::Card header-->
    <!--begin::Card body-->
    <div class="card-body pt-5">
        <!--begin::Form-->
        <form id="kt_ecommerce_settings_general_form" class="form fv-plugins-bootstrap5 fv-plugins-framework"
            action="#">

            <!--TITULOS Y SUB-TITULOS -->
            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-7">
                    <!--begin::Label-->
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span class="required">Titulo</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's name."
                            aria-label="Enter the contact's name."></i>
                    </label>
                    <!--end::Label-->
                    <!--begin::Input-->
                    <input type="text" class="form-control form-control-solid" [(ngModel)]="title" name="title">
                    <!--end::Input-->

                </div>
                <div class="col-5">
                    <!--begin::Label-->
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Subtitulos</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter any additional notes about the contact (optional)."
                            aria-label="Enter any additional notes about the contact (optional)."></i>
                    </label>
                    <!--end::Label-->
                    <!--begin::Input-->
                    <textarea class="form-control form-control-solid" [(ngModel)]="subtitle" name="subtitle"></textarea>
                    <!--end::Input-->
                </div>
            </div>


            <!--PRESIOS -->
            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-3">

                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Precio $ USD</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's company name (optional)."
                            aria-label="Enter the contact's company name (optional)."></i>
                    </label>
                    <input type="number" class="form-control form-control-solid" [(ngModel)]="price_usd"
                        name="price_usd">

                </div>

                <div class="col-3">
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Precio $ DOP</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's company name (optional)."
                            aria-label="Enter the contact's company name (optional)."></i>
                    </label>
                    <input type="number" class="form-control form-control-solid" [(ngModel)]="price_dop"
                        name="price_dop">
                </div>

                <div class="col-3">
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Precio $ MXN</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's company name (optional)."
                            aria-label="Enter the contact's company name (optional)."></i>
                    </label>
                    <input type="number" class="form-control form-control-solid" [(ngModel)]="price_mxn"
                        name="price_mxn">
                </div>

                <div class="col-3">
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Categoria:</span>
                    </label>
                    <select class="form-control form-select-solid fw-bolder" name="categorie" [(ngModel)]="categorie"
                        placeholder="Selec. Categoria">

                        <option value="">Seleciona Categoria</option>
                        <ng-container *ngFor="let CATEGORIE of CATEGORIES">
                            <option [value]="CATEGORIE._id">{{CATEGORIE.title}}</option>
                        </ng-container>

                    </select>
                </div>

                <div class="col-3">
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Status:</span>
                    </label>
                    <select class="form-control form-select-solid fw-bolder" name="state" [(ngModel)]="state"
                        placeholder="Selec. Status">

                        <option value="1">Demo</option>
                        <option value="2">Published</option>

                    </select>
                </div>
                state

            </div>

            <!--begin::Input group-->
            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-3">

                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Idioma</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's company name (optional)."
                            aria-label="Enter the contact's company name (optional)."></i>
                    </label>
                    <select class="form-control form-select-solid fw-bolder" name="idioma" [(ngModel)]="idioma"
                        placeholder="Selec. Idioma">
                        <option value="Selec">Selecionar.</option>
                        <option value="Ingles">Ingles</option>
                        <option value="Español">Español</option>
                        <option value="Portugues">Portugues</option>
                        <option value="Frances">Frances</option>

                    </select>
                </div>

                <div class="col-3">
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Nivel</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's company name (optional)."
                            aria-label="Enter the contact's company name (optional)."></i>
                    </label>
                    <select class="form-control form-select-solid fw-bolder" name="level" [(ngModel)]="level"
                        placeholder="Selec. Nivel">

                        <option value="Selec">Selecionar.</option>
                        <option value="Basico">Basico</option>
                        <option value="Intermedio">Intermedio</option>
                        <option value="Medio">Medio</option>
                        <option value="Avanzado">Avanzado</option>
                    </select>
                </div>

                <div class="col-3">
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span>Instructor</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's company name (optional)."
                            aria-label="Enter the contact's company name (optional)."></i>
                    </label>
                    <select class="form-control form-select-solid fw-bolder" name="instructor" [(ngModel)]="user"
                        placeholder="Selec. Instructor">

                        <option value="">Seleciona Instructor
                        <option>
                            <ng-container *ngFor="let USER of USERS">
                        <option [value]="USER._id"> {{USER.name + ' ' + USER.surname}} </option>
                        </ng-container>

                    </select>
                </div>


            </div>
            <!--end::Input group-->

            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-5">
                    <div class="col-lg-6 col-md-6 col-sm-12 my-2">
                        <label class="form-label">Sube tu imagen: *</label>
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" id="customFile"
                                accept=".jpeg, .bmp, .jpg, .png, .gif, .webp" (change)="processFile($event)">
                            <label class="custom-file-label" for="customFile">Choose file</label>
                        </div>
                    </div>
                </div>

                <div class="col-6">
                    <img [src]="IMAGEN_PREVIZUALIZAR" width="100%" alt="image-text" *ngIf="IMAGEN_PREVIZUALIZAR">
                </div>
            </div>

            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-10">
                    <label class="fs-6 fw-bold form-label mt-3">
                        <span class="required">Descripcion:</span>
                        <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                            data-bs-original-title="Enter the contact's name."
                            aria-label="Enter the contact's name."></i>
                    </label>
                    <ckeditor [data]="description" (change)="onChange($event)"></ckeditor>
                </div>
            </div>

            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-5 ">
                    <div class="">
                        <!--begin::Label-->
                        <label class="fs-6 fw-bold form-label mt-3">
                            <span class="required">Requerimientos:</span>
                            <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                                data-bs-original-title="Enter the contact's name."
                                aria-label="Enter the contact's name."></i>
                        </label>
                    </div>
                    <div class="d-flex">
                        <input type="text" class="form-control form-control-solid" name="requirements"
                            [(ngModel)]="requirements_text" value="">
                        <button class="btn btn-primary mx-2" (click)="addRequirements()"> + </button>
                    </div>

                </div>

                <div class="col-6">
                    <table class="table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4">
                        <thead>
                            <th>Requerimientos:</th>
                            <th>Accion</th>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let requirement of requirements ;let i = index">

                                <tr>
                                    <td>
                                        {{requirement}}
                                    </td>
                                    <td>
                                        <button class="btn btn-sm btn-danger mx-2" (click)="deleteRequirements(i)"> x
                                        </button>
                                    </td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-5 ">
                    <div class="">
                        <!--begin::Label-->
                        <label class="fs-6 fw-bold form-label mt-3">
                            <span class="required">¿ A Quien va dirijido este curso ?:</span>
                            <i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title=""
                                data-bs-original-title="Enter the contact's name."
                                aria-label="Enter the contact's name."></i>
                        </label>
                    </div>
                    <div class="d-flex">
                        <input type="text" class="form-control form-control-solid" name="who_is_it_for"
                            [(ngModel)]="who_is_for_text" value="">
                        <button class="btn btn-primary mx-2" (click)="addWhois()"> + </button>
                    </div>

                </div>

                <div class="col-6">
                    <table class="table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4">
                        <thead>
                            <th>¿ A Que publico esta enfocado ?:</th>
                            <th>Accion</th>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let who_is_it of who_is_it_for ;let i = index">

                                <tr>
                                    <td>
                                        {{who_is_it}}
                                    </td>
                                    <td>
                                        <button class="btn btn-sm btn-danger mx-2" (click)="deleteWhois(i)"> x </button>
                                    </td>
                                </tr>
                            </ng-container>

                        </tbody>
                    </table>
                </div>
            </div>



            <div class="row mb-7 fv-plugins-icon-container">
                <div class="col-5">
                    <div class="col-lg-6 col-md-6 col-sm-12 my-2">
                        <label class="form-label">Sube tu video previwe: *</label>
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" id="customFile" accept=" .mp4, .wmv,  .mov"
                                (change)="processVideo($event)">
                            <label class="custom-file-label" for="customFile">Choose file</label>
                        </div>

                        <div *ngIf="link_video_vimeo" class="py-5">
                            <iframe [src]="urlVideo()" frameborder="0"></iframe>
                        </div>
                    </div>
                </div>

                <div class="col-6">
                    <button class="btn btn-sm btn-primary" (click)="uploadVimeo()" *ngIf="loadVideo"> + </button>
                    <span class="spinner-border spinner-border-sm align-middle ms-2" *ngIf="!loadVideo"></span>

                </div>
            </div>

            <!--begin::Separator-->
            <div class="separator mb-6"></div>
            <!--end::Separator-->
            <!--begin::Action buttons-->
            <div class="d-flex justify-content-end">

                <!--begin::Button-->
                <button type="button" class="btn btn-primary" (click)="save()">
                    <span class="indicator-label">Edit</span>
                    <span class="indicator-progress">Please wait...
                        <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
                </button>
                <!--end::Button-->
            </div>
            <!--end::Action buttons-->
            <div></div>
        </form>
        <!--end::Form-->
    </div>
    <!--end::Card body-->
</div>